<!DOCTYPE html>
<script src="/jquery.min.js"></script>
<!--<script src="/main.js"></script>-->
<link rel="shortcut icon" href="/logo.svg" type="image/svg+xml"> 
<link rel="stylesheet" href="/package.css">
<link rel="stylesheet" href="/rainbow.css">
<script src="/marked.js"></script>
<script src="/rainbow.js"></script>
<title>As-Bitray | AssemblyScript</title>
<body>
    <div class="navbar">
        <img class="navbar-logo" src="/logo.svg" height: 40px; wclassth: 40px;>
        <div class="navbar-logoText">AssemblyScript
            <div class="navbar-logoSubText">Packages</div>
        </div>
        <textarea class="searchText" placeholder="Search for packages"></textarea>
        <div class="navbar-content">
            <a class="navbar-packages" href="https://assemblyscript.org/packages/" rel="nofollow">Packages</a>
            <a class="navbar-about" href="https://assemblyscript.org/" rel="nofollow">About</a>
            <a class="navbar-docs" href="https://assemblyscript.org/introduction.html" rel="nofollow">Docs</a>
            <a class="navbar-publish" href="https://assemblyscript.org/" rel="nofollow">Publish</a>
        </div>
    </div>
<div class="readme"></div>
<div class="stats">
    <div class="NPMstats">
        <img src="/npm.png" class="NPMlogo">
    </div>
    <div class="GitHubstats">
        <img src="/github.png" class="GitHublogo">
    </div>
    <div class="Otherstats">

    </div>
</div>
</body>
<script>
    $(document).ready(async () => {
        const currentPackage = window.location.href.split('/package')[1]?.replace('/', '') || ''
        const fetched = await fetch(`https://assemblyscript-packages.jairussw.repl.co/readme?name=${currentPackage}`)
        let body = await fetched.text()
				let html = marked(body)
				html = html.replaceAll('<img', '<img class="readmeImg"')
        $('.readme').html(`
        <div style="padding-left: 30px;">${html}</div>`)

				const blocksJS = document.getElementsByClassName('language-js')

				for (let i = 0; i < blocksJS.length; i++) {
					let element = blocksJS.item(i)
					Rainbow.color(element.textContent, 'javascript', (code) => {
						console.log('\nColored Code:\n', code)
						element.innerHTML = code

					})
				}

				const blocksBash = document.getElementsByClassName('language-bash')

				for (let i = 0; i < blocksBash.length; i++) {
					let element = blocksBash.item(i)
					Rainbow.color(element.textContent, 'bash', (code) => {
						console.log('\nBash Code:\n', code)
						element.innerHTML = code

					})
				}

    })

</script>